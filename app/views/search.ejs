<%- include('layouts/header') %>
<div class='container mb-4'>
<div class='row'>
<search class='col-lg-3'>
  <form hx-get="/articlecount" hx-include="[name='n']" hx-target="#namespace-filters">
    <div class='input-group'>
      <input form="search" name="nsq" type="text" placeholder="namespace" class='form-control' id='nsq' />
      <button form="search" class="btn btn-secondary"><i class="bi bi-search"></i></button>
    </div>
  </form>
  <fieldset id='namespace-filters'>
    <%- include('search/namespaces', { namespaces }) %>
  </fieldset>
  <form hx-get="/tropes" hx-target="#trope-filters" hx-include="[name='t'], [name='n']">
    <div class='input-group'>
      <input name="tsq" type="text" placeholder="trope" class='form-control' id='tsq' />
      <button class="btn btn-secondary" id="tropes-submit"><i class="bi bi-search"></i></button>
    </div>
  </form>
  <fieldset id="trope-filters">
    <%- include('search/tropes', { tropes }) %>
  </fieldset>
  <form id="search" hx-get="/results" hx-target="#results" class='d-grid'>
    <input type="submit" class='btn btn-primary' />
  </form>
</search>
<main id='results' class='col-lg-9'>
  <%- include('search/results', { results, pages }) %>
</main>
</div>
</div>
<%- include('layouts/footer.ejs') %>
